# This file was generated by `create-ponder`. You can deploy your Ponder app
# by signing in to https://render.com, connecting this repository, and clicking Deploy.

services:
  - type: web
    runtime: node
    name: afd-ponder
    rootDir: packages/ponder
    buildCommand: pnpm install --filter "."
    startCommand: pnpm start
    envVars:
      - key: CHAIN_ID
        value: 1
      - key: DATABASE_URL
        fromDatabase:
          name: afd-ponder-db
          property: connectionString
      - key: PONDER_RPC_URL_1
        sync: false
      - key: PONDER_RPC_URL_5
        sync: false

  - type: web
    runtime: node
    name: afd-ponder-goerli
    rootDir: packages/ponder
    buildCommand: pnpm install --filter "."
    startCommand: pnpm start
    envVars:
      - key: CHAIN_ID
        value: 5
      - key: DATABASE_URL
        fromDatabase:
          name: afd-ponder-db-goerli
          property: connectionString
      - key: PONDER_RPC_URL_1
        sync: false
      - key: PONDER_RPC_URL_5
        sync: false

databases:
  - name: afd-ponder-db
    postgresMajorVersion: "14"
  - name: afd-ponder-db-goerli
    postgresMajorVersion: "14"
